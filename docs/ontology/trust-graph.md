## Trust graph (Situations + Assertions over PROV)

This page describes the **trust graph** patterns as an epistemic overlay grounded in **PROV-O**:

- **Situation** (`agentictrust:Situation`) is a **prov:Entity** (a context / framing).
- **AssertionAct** (`agentictrust:AssertionAct`) is a **prov:Activity** (generic superclass for assertion-like acts).
- **Attestation** (`agentictrust:Attestation`) is a **prov:Activity** (accountable assertion act; prov:used `Assertion` and prov:generated an `AttestedAssertion`).
- **AttestedAssertion** (`agentictrust:AttestedAssertion`) is a **prov:Entity** (durable record/artifact generated by an Attestation).
- Many assertion acts and records can exist for the same situation (multiple validators, feedback providers, endorsers).

### High-level abstraction (PROV grounding)

```mermaid
classDiagram
direction LR

class provEntity["prov:Entity"]
class provActivity["prov:Activity"]
class provAgent["prov:Agent"]

class Situation["agentictrust:Situation"]
class AssertionAct["agentictrust:AssertionAct"]
class Attestation["agentictrust:Attestation"]
class AttestedAssertion["agentictrust:AttestedAssertion"]

Situation --|> provEntity
AssertionAct --|> provActivity
Attestation --|> AssertionAct
AttestedAssertion --|> provEntity

provAgent --> AssertionAct : assertedBy
AssertionAct --> Situation : assertsSituation
Attestation --> AttestedAssertion : generatedAssertionRecord
AttestedAssertion --> Situation : recordsSituation
```

### Situation (context) â€” abstract relationships to Agents

```mermaid
classDiagram
direction LR

class Situation["agentictrust:Situation"]
class AIAgent["agentictrust:AIAgent"]
class provAgent["prov:Agent"]
class AssertionAct["agentictrust:AssertionAct"]

Situation --> AIAgent : isAboutAgent
Situation --> provAgent : hasSituationParticipant
AssertionAct --> provAgent : assertedBy

note for isAboutAgent "Situation is about this AI Agent\n(e.g., agent being validated/reviewed)"
note for hasSituationParticipant "Other agents participating in the situation\n(e.g., validator, client, participant)"
note for assertedBy "Agent that performed the assertion act"
```

**SPARQL: situations and their about agents**

```sparql
PREFIX agentictrust: <https://www.agentictrust.io/ontology/agentictrust-core#>

SELECT ?situation ?situationType ?aboutAgent ?agentId
WHERE {
  ?situation a ?situationType .
  ?situationType rdfs:subClassOf* agentictrust:Situation .
  ?situation agentictrust:isAboutAgent ?aboutAgent .
  OPTIONAL {
    ?aboutAgent a agentictrust:AIAgent ;
      agentictrust:agentId ?agentId .
  }
}
ORDER BY ?agentId ?situationType
LIMIT 200
```

**SPARQL: situations and their participants**

```sparql
PREFIX agentictrust: <https://www.agentictrust.io/ontology/agentictrust-core#>

SELECT ?situation ?participant ?participantType
WHERE {
  ?situation a agentictrust:Situation .
  ?situation agentictrust:hasSituationParticipant ?participant .
  OPTIONAL { ?participant a ?participantType . }
}
ORDER BY ?situation ?participant
LIMIT 200
```

**SPARQL: assertion acts and their asserting agents**

```sparql
PREFIX agentictrust: <https://www.agentictrust.io/ontology/agentictrust-core#>

SELECT ?assertionAct ?assertingAgent ?situation
WHERE {
  ?assertionAct a agentictrust:Attestation .
  ?assertionAct agentictrust:assertedBy ?assertingAgent .
  OPTIONAL { ?assertionAct agentictrust:assertsSituation ?situation . }
}
ORDER BY ?assertingAgent ?situation
LIMIT 200
```

### Trust specializations (what trust cares about)

Trust is modeled as specialization on the **Situation side** (TrustSituation types) and specialization on the **Assertion side** (TrustAssertion types):

- **Trust situations**:
  - `agentictrust:VerificationRequestSituation` (request for validation)
  - `agentictrust:ReputationTrustSituation` (reputation context)
  - `agentictrust:RelationshipTrustSituation` (relationship context)
- **Trust assertion records** (prov:Entity):
  - `agentictrust:VerificationTrustAssertion` (validation response record)
  - `agentictrust:ReputationTrustAssertion` (feedback record)
  - `agentictrust:RelationshipTrustAssertion` (relationship assertion record)
- **Trust assertion acts** (prov:Activity):
  - `agentictrust:VerificationTrustAssertionAct` (act of validating)
  - `agentictrust:ReputationTrustAssertionAct` (act of providing feedback)
  - `agentictrust:RelationshipTrustAssertionAct` (act of asserting relationship)

### Example: many assertions for the same situation

```mermaid
classDiagram
direction LR

class provAgent["prov:Agent"]
class TrustAssertionRecord["agentictrust:TrustAssertion"]
class TrustAssertionAct["agentictrust:TrustAssertionAct"]
class TrustSituation["agentictrust:TrustSituation"]

provAgent --> TrustAssertionAct : assertedBy
TrustAssertionAct --> TrustSituation : assertsSituation
TrustAssertionAct --> TrustAssertionRecord : generatedAssertionRecord
TrustAssertionRecord --> TrustSituation : recordsSituation
```

**SPARQL: count assertion records per situation**

```sparql
PREFIX agentictrust: <https://www.agentictrust.io/ontology/agentictrust-core#>

SELECT ?situation (COUNT(?assertionRecord) AS ?assertionCount)
WHERE {
  ?assertionRecord a agentictrust:TrustAssertion ;
    agentictrust:recordsSituation ?situation .
}
GROUP BY ?situation
ORDER BY DESC(?assertionCount)
LIMIT 200
```

**SPARQL: count assertion acts per situation**

```sparql
PREFIX agentictrust: <https://www.agentictrust.io/ontology/agentictrust-core#>

SELECT ?situation (COUNT(?assertionAct) AS ?actCount)
WHERE {
  ?assertionAct a agentictrust:TrustAssertionAct ;
    agentictrust:assertsSituation ?situation .
}
GROUP BY ?situation
ORDER BY DESC(?actCount)
LIMIT 200
```


